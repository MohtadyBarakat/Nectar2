!function(e,t,n){"use strict";Foundation.libs.section={name:"section",version:"4.3.2",settings:{deep_linking:!1,small_breakpoint:768,one_up:!0,multi_expand:!1,section_selector:"[data-section]",region_selector:"section, .section, [data-section-region]",title_selector:".title, [data-section-title]",resized_data_attr:"data-section-resized",small_style_data_attr:"data-section-small-style",content_selector:".content, [data-section-content]",nav_selector:'[data-section="vertical-nav"], [data-section="horizontal-nav"]',active_class:"active",callback:function(){}},init:function(t,n,i){var o=this;return Foundation.inherit(this,"throttle data_options position_right offset_right"),"object"==typeof n&&e.extend(!0,o.settings,n),"string"!=typeof n?(this.events(),!0):this[n].call(this,i)},events:function(){for(var i=this,o=[],a=i.settings.section_selector,r=i.settings.region_selector.split(","),s=i.settings.title_selector.split(","),l=0,c=r.length;c>l;l++)for(var p=r[l],d=0,u=s.length;u>d;d++){var h=a+">"+p+">"+s[d];o.push(h+" a"),o.push(h)}e(i.scope).on("click.fndtn.section",o.join(","),function(t){var n=e(this).closest(i.settings.title_selector);i.close_navs(n),n.siblings(i.settings.content_selector).length>0&&i.toggle_active.call(n[0],t)}),e(t).on("resize.fndtn.section",i.throttle(function(){i.resize()},30)).on("hashchange.fndtn.section",i.set_active_from_hash),e(n).on("click.fndtn.section",function(t){t.isPropagationStopped&&t.isPropagationStopped()||t.target!==n&&i.close_navs(e(t.target).closest(i.settings.title_selector))}),e(t).triggerHandler("resize.fndtn.section"),e(t).triggerHandler("hashchange.fndtn.section")},close_navs:function(t){var n=Foundation.libs.section,i=e(n.settings.nav_selector).filter(function(){return!e.extend({},n.settings,n.data_options(e(this))).one_up});if(t.length>0){var o=t.parent().parent();(n.is_horizontal_nav(o)||n.is_vertical_nav(o))&&(i=i.filter(function(){return this!==o[0]}))}i.children(n.settings.region_selector).removeClass(n.settings.active_class)},toggle_active:function(t){var n=e(this),i=Foundation.libs.section,o=n.parent(),a=n.siblings(i.settings.content_selector),r=o.parent(),s=e.extend({},i.settings,i.data_options(r)),l=r.children(i.settings.region_selector).filter("."+i.settings.active_class);!s.deep_linking&&a.length>0&&t.preventDefault(),t.stopPropagation(),o.hasClass(i.settings.active_class)?(o.hasClass(i.settings.active_class)&&i.is_accordion(r)||!s.one_up&&(i.small(r)||i.is_vertical_nav(r)||i.is_horizontal_nav(r)||i.is_accordion(r)))&&(o.removeClass(i.settings.active_class),o.trigger("closed.fndtn.section")):((!i.is_accordion(r)||i.is_accordion(r)&&!i.settings.multi_expand)&&(l.removeClass(i.settings.active_class),l.trigger("closed.fndtn.section")),o.addClass(i.settings.active_class),i.resize(o.find(i.settings.section_selector).not("["+i.settings.resized_data_attr+"]"),!0),o.trigger("opened.fndtn.section")),s.callback(r)},check_resize_timer:null,resize:function(t,n){var i=Foundation.libs.section,o=e(i.settings.section_selector),a=i.small(o),r=function(e,t){return!(i.is_accordion(e)||e.is("["+i.settings.resized_data_attr+"]")||a&&!i.is_horizontal_tabs(e)||t!==("none"===e.css("display")||!e.parent().is(":visible")))};t=t||e(i.settings.section_selector),clearTimeout(i.check_resize_timer),a||t.removeAttr(i.settings.small_style_data_attr),t.filter(function(){return r(e(this),!1)}).each(function(){var t=e(this),o=t.children(i.settings.region_selector),a=o.children(i.settings.title_selector),r=o.children(i.settings.content_selector),s=0;if(n&&0==t.children(i.settings.region_selector).filter("."+i.settings.active_class).length){var l=e.extend({},i.settings,i.data_options(t));l.deep_linking||!l.one_up&&(i.is_horizontal_nav(t)||i.is_vertical_nav(t)||i.is_accordion(t))||o.filter(":visible").first().addClass(i.settings.active_class)}if(i.is_horizontal_tabs(t)||i.is_auto(t)){var c=0;a.each(function(){var t=e(this);if(t.is(":visible")){t.css(i.rtl?"right":"left",c);var n=parseInt(t.css("border-"+(i.rtl?"left":"right")+"-width"),10);"Nan"===n.toString()&&(n=0),c+=i.outerWidth(t)-n,s=Math.max(s,i.outerHeight(t))}}),a.css("height",s),o.each(function(){var t=e(this),n=t.children(i.settings.content_selector),o=parseInt(n.css("border-top-width"),10);"Nan"===o.toString()&&(o=0),t.css("padding-top",s-o)}),t.css("min-height",s)}else if(i.is_horizontal_nav(t)){var p=!0;a.each(function(){s=Math.max(s,i.outerHeight(e(this)))}),o.each(function(){var n=e(this);n.css("margin-left","-"+(p?t:n.children(i.settings.title_selector)).css("border-left-width")),p=!1}),o.css("margin-top","-"+t.css("border-top-width")),a.css("height",s),r.css("top",s),t.css("min-height",s)}else if(i.is_vertical_tabs(t)){var d=0;a.each(function(){var t=e(this);if(t.is(":visible")){t.css("top",d);var n=parseInt(t.css("border-top-width"),10);"Nan"===n.toString()&&(n=0),d+=i.outerHeight(t)-n}}),r.css("min-height",d+1)}else if(i.is_vertical_nav(t)){var u=0,h=!0;a.each(function(){u=Math.max(u,i.outerWidth(e(this)))}),o.each(function(){var n=e(this);n.css("margin-top","-"+(h?t:n.children(i.settings.title_selector)).css("border-top-width")),h=!1}),a.css("width",u),r.css(i.rtl?"right":"left",u),t.css("width",u)}t.attr(i.settings.resized_data_attr,!0)}),e(i.settings.section_selector).filter(function(){return r(e(this),!0)}).length>0&&(i.check_resize_timer=setTimeout(function(){i.resize(t.filter(function(){return r(e(this),!1)}),!0)},700)),a&&t.attr(i.settings.small_style_data_attr,!0)},is_vertical_nav:function(e){return/vertical-nav/i.test(e.data("section"))},is_horizontal_nav:function(e){return/horizontal-nav/i.test(e.data("section"))},is_accordion:function(e){return/accordion/i.test(e.data("section"))},is_horizontal_tabs:function(e){return/^tabs$/i.test(e.data("section"))},is_vertical_tabs:function(e){return/vertical-tabs/i.test(e.data("section"))},is_auto:function(e){var t=e.data("section");return""===t||/auto/i.test(t)},set_active_from_hash:function(){var n,i=Foundation.libs.section,o=t.location.hash.substring(1),a=e(i.settings.section_selector);a.each(function(){var t=e(this),a=t.children(i.settings.region_selector);return a.each(function(){var a=e(this),r=a.children(i.settings.content_selector).data("slug");return new RegExp(r,"i").test(o)?(n=t,!1):void 0}),null!=n?!1:void 0}),null!=n&&a.each(function(){if(n==e(this)){var t=e(this),a=e.extend({},i.settings,i.data_options(t)),r=t.children(i.settings.region_selector),s=a.deep_linking&&o.length>0,l=!1;r.each(function(){var t=e(this);if(l)t.removeClass(i.settings.active_class);else if(s){var n=t.children(i.settings.content_selector).data("slug");n&&new RegExp(n,"i").test(o)?(t.hasClass(i.settings.active_class)||t.addClass(i.settings.active_class),l=!0):t.removeClass(i.settings.active_class)}else t.hasClass(i.settings.active_class)&&(l=!0)}),l||!a.one_up&&(i.is_horizontal_nav(t)||i.is_vertical_nav(t)||i.is_accordion(t))||r.filter(":visible").first().addClass(i.settings.active_class)}})},reflow:function(){var t=Foundation.libs.section;e(t.settings.section_selector).removeAttr(t.settings.resized_data_attr),t.throttle(function(){t.resize()},30)()},small:function(t){var n=e.extend({},this.settings,this.data_options(t));return this.is_horizontal_tabs(t)?!1:t&&this.is_accordion(t)?!0:e("html").hasClass("lt-ie9")?!0:e("html").hasClass("ie8compat")?!0:e(this.scope).width()<n.small_breakpoint},off:function(){e(this.scope).off(".fndtn.section"),e(t).off(".fndtn.section"),e(n).off(".fndtn.section")}},e.fn.reflow_section=function(e){var t=this,n=Foundation.libs.section;return t.removeAttr(n.settings.resized_data_attr),n.throttle(function(){n.resize(t,e)},30)(),this}}(Foundation.zj,window,document);
//# sourceMappingURL=foundation.section.min.js.map